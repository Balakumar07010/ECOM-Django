<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <link rel="stylesheet" href="success.css" />
    <title>Success</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <style>
      @import url("https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        width: 100%;
        height: 100vh;
        font-family: "Poppins", serif;
      }
      button {
        cursor: pointer;
      }
      /*Nav Start */

      nav {
        display: flex;
        flex-direction: column;
        background-color: #2f89fc;
      }
      .nav-container-first {
        width: 100%;
        display: flex;
        justify-content: space-evenly;
        align-items: center;
      }
      .logo {
        width: 6rem;
        border-radius: 50%;
      }
      .logo img {
        width: 100%;
        transition: all 0.6s;
      }
      .logo img:hover {
        filter: drop-shadow(1px 1px 4px #fff);
      }
      .login {
        display: flex;
        justify-content: center;
        gap: 2.5rem;
        align-items: center;
      }
      .cart-logo {
        width: 2.5rem;
        transition: all 0.6s;
      }
      .cart-logo img {
        width: 100%;
      }
      .login-btn button {
        font-size: 1rem;
        font-weight: 600;
        border: none;
        border-radius: 0.8rem;
        color: #fff;
        padding: 0.7rem 1.4rem;
        background-color: #2f89fc;
        transition: all 1s;
      }
      .cart-logo:hover {
        filter: drop-shadow(1px 1px 4px #fff);
      }
      .login-btn button:hover {
        background-color: #fff;
        font-weight: 600;
        color: #000;
      }
      .searchbar {
        width: 40%;
        position: relative;
      }
      .searchbar input {
        font-size: 1rem;
        color: #757575;
        width: 100%;
        padding: 0.6rem 2.7rem 0.6rem 1.3rem;
        border: none;
        outline: none;
        border-radius: 1.5rem;
      }
      .search_icon {
        position: absolute;
        top: 0.4rem;
        right: 0.58rem;
        width: 1.7rem;
      }
      .search_icon img {
        width: 100%;
      }
      .seller button {
        font-size: 1rem;
        font-weight: 600;
        border: none;
        border-radius: 0.8rem;
        color: #fff;
        padding: 0.5rem 1.4rem;
        background-color: #2f89fc;
        transition: all 1s;
      }
      .seller button:hover {
        background-color: #fff;
        font-weight: 600;
        color: #000;
      }
      /*Nav End */

      /* Media Queries Nav*/
      @media screen and (max-width: 1024px) and (min-width: 769px) {
        .nav-container-first {
          padding: 0rem 0.8rem;
        }
        .logo {
          width: 5rem;
        }
        .login {
          gap: 1.5rem;
        }
        .cart-logo {
          width: 2.2rem;
        }
        .login-btn button {
          font-size: 1rem;
          padding: 0.5rem 0.8rem;
        }
        .nav-container-second {
          gap: 5px;
          padding: 0rem 0.8rem;
        }
        .searchbar {
          width: 40%;
        }
        .searchbar input {
          font-size: 0.9rem;
          padding: 0.4rem 2.5rem 0.4rem 0.6rem;
        }
        .search_icon {
          top: 0.2rem;
          width: 1.5rem;
        }
        .seller button {
          font-size: 1rem;
          padding: 0.5rem 1.2rem;
        }
      }

      @media screen and (max-width: 768px) and (min-width: 481px) {
        .nav-container-first {
          padding: 0rem 0.6rem;
        }
        .logo {
          width: 5rem;
        }
        .login {
          gap: 1rem;
        }
        .cart-logo {
          width: 1.8rem;
        }
        .login-btn button {
          font-size: 0.9rem;
          padding: 0.4rem 0.8rem;
        }
        .nav-container-second {
          gap: 5px;
          padding: 0rem 0.6rem;
        }
        .searchbar {
          width: 40%;
        }
        .searchbar input {
          font-size: 0.8rem;
          padding: 0.35rem 2.5rem 0.35rem 0.6rem;
        }
        .search_icon {
          top: 0.1rem;
          width: 1.2rem;
        }
        .seller button {
          font-size: 0.8rem;
          padding: 0.5rem 0.8rem;
        }
      }

      @media screen and (max-width: 480px) and (min-width: 310px) {
        .nav-container-first {
          padding: 0rem 0.5rem;
        }
        .logo {
          width: 3rem;
        }
        .login {
          margin-left: 0.3rem;
          gap: 0.5rem;
        }
        .cart-logo {
          width: 1.5rem;
        }
        .login-btn button {
          font-size: 0.6rem;
          padding: 0.4rem 0.6rem;
        }
        .nav-container-second {
          gap: 5px;
          padding: 0rem 0.5rem;
        }
        .searchbar {
          width: 30%;
        }
        .searchbar input {
          font-size: 0.7rem;
          padding: 0.2rem 2.5rem 0.2rem 0.6rem;
        }
        .search_icon {
          top: 0.1rem;
          width: 1rem;
        }
        .seller button {
          font-size: 0.5rem;
          padding: 0.3rem 0.4rem;
        }
      }
      /* End of Meadia queries n Nav Bar */
      /* Navbar DropDown Start */
      .ulogin {
        position: relative;
      }

      .ulogin .dropdown-menu {
        position: absolute;
        top: 50px;
        right: 0;
        left: auto;
        transform: translateY(10px);
        z-index: 1050;
        display: none; /* Initially hidden */
        opacity: 0; /* For smooth transition */
        transition: opacity 0.3s ease, transform 0.3s ease;
      }

      .ulogin:hover .dropdown-menu {
        display: block; /* Show dropdown on hover */
        opacity: 1;
        transform: translateY(0); /* Animate dropdown into place */
      }
      /* Navbar DropDown End */

      .success_content video {
        justify-content: center;
        align-items: center;
        margin-left: 235px;
        width: 150px;
        height: auto;
        box-shadow: none;
        /* border: 5px solid black; */
      }

      .success_content {
        width: 600px;
        height: 400px;
        margin: 20px auto;
      }
      #p2 {
        margin-bottom: 0px;
      }
      .success_content button {
        padding: 10px;
        padding-right: 20px;
        margin-top: 15px;
      }
      .success_content .words {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        line-height: 35px;
        /* border: 2px solid red; */
      }

      /* Media Query for Mobile Devices (max-width: 768px) */
      @media screen and (max-width: 768px) {
        /* General Reset */
        * {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
        }

        /* Navbar Container */
        .navbar .container-fluid {
          display: flex;
          flex-direction: column; /* Stack items */
          align-items: center;
        }

        /* First Line: Logo and Buttons */
        .logo {
          display: flex;
          align-items: center; /* Center logo and text vertically */
          justify-content: space-between; /* Space between logo and buttons */
          width: 100%; /* Full width */
          padding: 10px;
        }
        .logo img {
          width: 2rem; /* Smaller logo size */
          height: 2rem;
        }
        .logo p {
          font-size: 1rem;
          margin: 0;
          margin-left: 10px; /* Space between logo image and text */
        }

        .btn {
          display: flex;
          justify-content: flex-end; /* Align buttons to the right */
          gap: 10px;
          width: 100%; /* Buttons on full width */
        }

        /* Second Line: Search Box */
        .search {
          width: 90%; /* Full width with margin */
          display: flex;
          align-items: center;
          margin-top: 10px;
        }

        #search {
          flex: 1;
          padding: 0.5rem;
        }

        .searchBtn {
          padding: 0.5rem;
        }

        /* Success Content (Additional Section) */
        .success_content {
          width: 100%; /* Adjust width to fit screen */
          margin-top: 20px auto; /* Center content */
          padding: 1rem;
          display: flex;
          flex-direction: column;
          justify-content: center;
          align-items: center;
        }
        .success_content video {
          width: 100px; /* Smaller video size */
          margin: 0 auto; /* Center video */
        }
        .success_content button {
          width: 40%;
          margin-top: 10px;
        }
        .success_content .words {
          line-height: 40px; /* Adjust line spacing */
        }
      }

      /* Profile Section
    .profile {
      width: 90%; /* Full width on smaller screens 
      padding: 1.5rem;
      margin: 10px auto;
    } */

      /* Success Content */
    </style>
  </head>
  <body>
    {% load static %}
    <!-- new Nav Bar -->

    <nav class="navbar navbar-expand-lg">
      <div class="nav-container-first">
        <div class="logo">
          <a href="{% url 'homePage' %}">
            <img src="{% static '/img/logo.png' %}" alt="logo" />
          </a>
        </div>
        <form id="forms" method="post" action="{% url 'search' %}">
          {%csrf_token%}
          <div class="search d-flex align-items-center">
            <input
              type="text"
              name="search"
              id="search"
              class="form-control me-2"
              placeholder="Search..."
            />
            <button type="submit" class="searchBtn btn btn-outline-primary">
              <i class="fas fa-search"></i>
            </button>
          </div>
        </form>
        <div class="login">
          <div class="seller">
            <a href="{% url 'sellerLogin' %}">
              <button type="submit">Become a Seller</button>
            </a>
          </div>
          <div class="cart-logo">
            <a href="{% url 'cartPage' %}">
              <img src="{% static '/img/shopping-bag.png' %}" alt="cart-logo" />
            </a>
          </div>
          {% if ob.user_flag == 'true'%}
          <div class="d-flex align-items-center">
            <div>
              <p style="color: #fff; font-size: 1.3rem">{{ob.username}}</p>
            </div>
            <div
              class="ulogin dropdown position-relative d-flex align-items-center"
            >
              <button class="btn btn-link pl-3" style="cursor: pointer">
                <i
                  class="fa-solid fa-user"
                  style="font-size: 2.5rem; color: #fff"
                ></i>
              </button>
              <ul class="dropdown-menu dropdown-menu-end" id="dropdown2">
                <li>
                  <a
                    class="dropdown-item"
                    id="dropdown1"
                    href="{% url 'user_Profile' %}"
                    ><i class="fa-solid fa-user"></i> Profile</a
                  >
                </li>
                <li>
                  <a class="dropdown-item" href="{% url 'myOrders' %}"
                    ><i class="fa-solid fa-box"></i> My Orders</a
                  >
                </li>
                <li>
                  <a class="dropdown-item" href="{% url 'whishlist' %}"
                    ><i class="fa-solid fa-heart"></i> Wishlist</a
                  >
                </li>
                <li>
                  <hr class="dropdown-divider" />
                </li>
                <li>
                  <a class="dropdown-item" href="{% url 'logout' %}"
                    ><i class="fa fa-sign-out" aria-hidden="true"></i> Logout</a
                  >
                </li>
              </ul>
            </div>
          </div>

          {% else %}
          <div class="login-btn">
            <a href="{% url 'userLogin' %}">
              <button type="submit">Login</button>
            </a>
          </div>
          {% endif %}
        </div>
      </div>
    </nav>
    <!-- new Nav Bar End -->

    <div class="success_content">
      <video
        src="{% static '/Animation - 1734425737042.webm' %}"
        autoplay
        muted
      ></video>
      <div class="words">
        <h3>Your Order has been successfully placed!</h3>
        <p id="p2">
          Your Product Names: {{b.Product_name}} ({{b.Quantity}}pkt),
          {{b.Description}}
        </p>
        <h5>Your Total Amount: {{price}}</h5>
        <a href="{% url 'homePage' %}">
          <button class="btn btn-primary">&larr; HOME</button>
        </a>
      </div>
    </div>
  </body>
  <script>
    window.onload = function () {
      // Create confetti effect
      confetti({
        particleCount: 150,
        spread: 70,
        origin: { y: 0.6 },
      });

      // Burst effect
      setTimeout(() => {
        confetti({
          particleCount: 100,
          angle: 60,
          spread: 55,
          origin: { x: 0 },
        });
        confetti({
          particleCount: 100,
          angle: 120,
          spread: 55,
          origin: { x: 1 },
        });
      }, 500);
    };
  </script>
</html>
